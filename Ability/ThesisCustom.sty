\ProvidesPackage{ThesisCustom}

% % % TO DO % % %
% \hyperref[label-name]{link-text}
% % % % % % % % %

\RequirePackage{xparse} % For creating commands with complex arguments
\RequirePackage{environ}
\RequirePackage{graphicx} % for reverse
\RequirePackage{calc}

\RequirePackage{tikz}
\usetikzlibrary{shapes.misc}
\usetikzlibrary{calc}

\NewEnviron{argument}{%
    \par\smallskip
    \noindent\emph{Argument.}%
    \mbox{ }\newline
    \reversemarginpar
      \BODY
}

\RequirePackage{pifont}
\newcommand{\hand}{\ding{43}}

\newcommand{\bsfrac}[2]{\ensuremath{\reflectbox{\sfrac{\reflectbox{#2}}{\reflectbox{#1}}}}}




% % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % %
% % % General purpose
\newcommand{\obeybreaks}[1]{%
  {\begingroup\setlength{\parindent}{0pt}\obeylines%
    #1%
    \endgroup}%
}

% % % Phantom labels and reference
\newcommand{\phantlabel}[1]{%
  \phantomsection%
  \label{#1}%
  }

\newcommand{\phantref}[2]{%
  \hyperref[#1]{#2}%
  }
% % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % %

% % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % %
% % % Things such as templates, etc.
\newcommand{\wrt}[0]{\hyperref[wrt]{\obeybreaks{the\space revised\space template}}} % Wright's revised template
\newcommand{\widt}[0]{\hyperref[widt]{\obeybreaks{information-dependence\space template}}} % Wright's information-dependence template
\newcommand{\wnf}[0]{\hyperref[wnf]{\obeybreaks{No\space Feedback}}} % Weibserg's no feedback condition
% % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % %

%\newcommand{\TOCLine}[1]{\nameref{#1}\mbox{ }\hfill\autoref{#1}}
\newcommand{\TOCLine}[1]{\nameref{#1}\dotfill\autoref{#1}}
% % % Verbs

\makeatletter
\def\sem{\@ifnextchar[{\@with}{\@without}}
\def\@with[#1]#2{\ensuremath{[\![#2]\!]^{#1}}}
\def\@without#1{\ensuremath{[\![#1]\!]}}
\makeatother

\newcommand{\preName}[1]{\mbox{\textsc{#1}}} %{\mbox{\textsf{\textsc{#1}}}}
\newcommand{\named}[1]{\mbox{\textsc{#1}}}

% % % Property and event

\newcommand{\agents}[0]{\obeybreaks{agent's}}

\DeclareRobustCommand\conRel[2]{%
    \begin{tikzpicture}[baseline=(x.base)]%
      \node[outer sep=0, inner sep=0pt] (x) {\phantom{I}};%
      %
      \node[outer sep=0, inner sep=0pt, left = 0cm of x, yshift=-.05em] (a) {\scalebox{0.8}{#1}};%
      %
      \node[outer sep=0, inner sep=0pt, right = 0cm of x, yshift=.05em] (b) {\scalebox{0.8}{#2}};%
      %
      \draw[line width= .5pt] let%
      \p1 = (x.north),%
      \p2 = (x.base),%
      \p3 = (a.north west),%
      \p4 = (a.north east),%
      \p5 = (b.south west),%
      \p6 = (b.south east),%
      in%
      (\x3,\y1) -- (\x4,\y1) -- (\x5,\y2) -- (\x6,\y2);%
    \end{tikzpicture}%
    }

\newcommand{\whyName}[0]{Why}
\newcommand{\howName}[0]{How}

\newcommand{\qWhy}[0]{\hyperref[q:why]{\preName{\whyName{}?}}}
\newcommand{\qHow}[0]{\hyperref[q:how]{\preName{\howName{}?}}}

\newcommand{\whyVName}[0]{Support}
\newcommand{\howVName}[0]{Witness}

\newcommand{\whyVNamed}[0]{\named{\whyVName{}?}}
\newcommand{\howVNamed}[0]{\named{\howVName{}?}}


\newcommand{\qWhyV}[0]{\hyperref[q:why:v]{\whyVNamed{}}}
\newcommand{\qHowV}[0]{\hyperref[q:how:v]{\howVNamed{}}}

%\preName{Concordance}

\newcommand{\issueInclusion}[0]{\hyperref[issue:why-inc-in-how]{\conRel{\qWhy{}}{\qHow{}}}}

\newcommand{\issueConstraint}[0]{\hyperref[issue:has-witnessed]{\conRel{\whyVNamed{}}{\howVNamed{}}}}

\newcommand{\linkW}[0]{\hyperref[q:how]{\obeybreaks{\autoref{link:why:support:pvpp}}}}
\newcommand{\linkH}[0]{\hyperref[q:how]{\obeybreaks{\autoref{link:how-witnessing}}}}

\newcommand{\pv}[2]{\ensuremath{\langle #1, #2 \rangle}}
\newcommand{\pvp}[3]{\ensuremath{\langle \langle #1, #2 \rangle, #3 \rangle}}


% % % Premise Commands
% Perhaps:
% S\(\rightarrow\)C for main premise
% S\(\leftarrow\)C for denied premise
% And S\(\circ\dashes\)C for exception

\ExplSyntaxOn
\DeclareDocumentCommand{\agpe}{ m }{% No inertia
  \tl_if_empty:nTF {#1}
  {%
    \obeybreaks{agent's\space perspective}
  }
  {%
    \obeybreaks{#1\space perspective}
  }
}
\ExplSyntaxOff

\newcommand{\ofPremises}[0]{}%{\space of\space premises}

\ExplSyntaxOn
\DeclareDocumentCommand{\poP}{ m }{%
  \tl_if_empty:nTF {#1}
  {
    \obeybreaks{\obeybreaks{pool\ofPremises{}}}%
  }
  {%
    \ifnum0=#1\relax%
      \obeybreaks{\obeybreaks{pool\ofPremises{}}}%
    \fi
    \ifnum1=#1\relax%
      \obeybreaks{\obeybreaks{pools\ofPremises{}}}%
    \fi
    \ifnum2=#1\relax%
      \obeybreaks{\obeybreaks{Pool\ofPremises{}}}%
    \fi
    \ifnum3=#1\relax%
      \obeybreaks{\obeybreaks{Pools\ofPremises{}}}%
    \fi
  }
}
\ExplSyntaxOff

\ExplSyntaxOn
\DeclareDocumentCommand{\factivity}{ m }{%
  \tl_if_empty:nTF {#1}
  {
    \obeybreaks{\hyperref[principle:factivity]{factivity}}%
  }
  {%
    \ifnum0=#1\relax%
      \obeybreaks{\hyperref[principle:factivity]{factivity}}%
    \fi
    \ifnum1=#1\relax%
      \obeybreaks{\color{red} NO-SENSE}%
    \fi
    \ifnum2=#1\relax%
      \obeybreaks{\hyperref[principle:factivity]{Factivity}}%
    \fi
    \ifnum3=#1\relax%
      \obeybreaks{\color{red} NO-SENSE}%
    \fi
  }
}
\ExplSyntaxOff

\ExplSyntaxOn
\DeclareDocumentCommand{\ptivity}{ m }{%
  \tl_if_empty:nTF {#1}
  {
    \obeybreaks{\hyperref[def:perspectivity]{perspectivity}}%
  }
  {%
    \ifnum0=#1\relax%
      \obeybreaks{\hyperref[def:perspectivity]{perspectivity}}%
    \fi
    \ifnum1=#1\relax%
      \obeybreaks{\color{red} NO-SENSE}%
    \fi
    \ifnum2=#1\relax%
      \obeybreaks{\hyperref[def:perspectivity]{Perspectivity}}%
    \fi
    \ifnum3=#1\relax%
      \obeybreaks{\color{red} NO-SENSE}%
    \fi
  }
}
\ExplSyntaxOff

\newcommand{\ptivityQV}[0]{\ensuremath{\mathbb{P}}}

\ExplSyntaxOn
\DeclareDocumentCommand{\ptivityQ}{ m }{%
  \tl_if_empty:nTF {#1}
  {
    \obeybreaks{\hyperref[def:perspectivityQ]{perspectivity\textsuperscript{\emph{Q}}}}%
  }
  {%
    \ifnum0=#1\relax%
      \obeybreaks{\hyperref[def:perspectivityQ]{perspectivity\textsuperscript{\emph{Q}}}}%
    \fi
    \ifnum1=#1\relax%
      \obeybreaks{\color{red} NO-SENSE}%
    \fi
    \ifnum2=#1\relax%
      \obeybreaks{\hyperref[def:perspectivityQ]{Perspectivity\textsuperscript{\emph{Q}}}}%
    \fi
    \ifnum3=#1\relax%
      \obeybreaks{\color{red} NO-SENSE}%
    \fi
  }
}
\ExplSyntaxOff

\ExplSyntaxOn
\DeclareDocumentCommand{\deadEnd}{ m }{%
  \tl_if_empty:nTF {#1}
  {
    \obeybreaks{\hyperref[def:dead-end]{dead-end}}%
  }
  {%
    \ifnum0=#1\relax%
      \obeybreaks{\hyperref[def:dead-end]{dead-end}}%
    \fi
    \ifnum1=#1\relax%
      \obeybreaks{\hyperref[def:dead-end]{dead-ends}}%
    \fi
    \ifnum2=#1\relax%
      \obeybreaks{\hyperref[def:dead-end]{Dead-end}}%
    \fi
    \ifnum3=#1\relax%
      \obeybreaks{\hyperref[def:dead-end]{Dead-ends}}%
    \fi
  }
}
\ExplSyntaxOff


\ExplSyntaxOn
\DeclareDocumentCommand{\collateral}{ m }{%
  \tl_if_empty:nTF {#1}
  {
    \obeybreaks{collateral}%
  }
  {%
    \ifnum0=#1\relax%
      \obeybreaks{collateral}%
    \fi
    \ifnum1=#1\relax%
      \obeybreaks{\color{red} NO-SENSE}%
    \fi
    \ifnum2=#1\relax%
      \obeybreaks{Collateral}%
    \fi
    \ifnum3=#1\relax%
      \obeybreaks{\color{red} NO-SENSE}%
    \fi
  }
}
\ExplSyntaxOff

% % % % % % Support % % %

\ExplSyntaxOn
\DeclareDocumentCommand{\support}{ m }{%
  \tl_if_empty:nTF {#1}
  {
    \obeybreaks{\hyperref[cha:var:ros]{support}}%
  }
  {%
    \ifnum0=#1\relax%
      \obeybreaks{\hyperref[cha:var:ros]{support}}%
    \fi
    \ifnum1=#1\relax%
      \obeybreaks{\color{red} NO-SENSE}%
    \fi
    \ifnum2=#1\relax%
      \obeybreaks{\hyperref[cha:var:ros]{Support}}%
    \fi
    \ifnum3=#1\relax%
      \obeybreaks{\color{red} NO-SENSE}%
    \fi
  }
}
\ExplSyntaxOff

\ExplSyntaxOn
\DeclareDocumentCommand{\ros}{ m }{%
  \tl_if_empty:nTF {#1}
  {
    \obeybreaks{\hyperref[cha:var:ros]{relation\space of\space \support{0}}}%
  }
  {%
    \ifnum0=#1\relax%
      \obeybreaks{\hyperref[cha:var:ros]{relation\space of\space \support{0}}}%
    \fi
    \ifnum1=#1\relax%
      \obeybreaks{\hyperref[cha:var:ros]{relations\space of\space \support{0}}}%
    \fi
    \ifnum2=#1\relax%
      \obeybreaks{\hyperref[cha:var:ros]{Relation\space of\space \support{0}}}%
    \fi
    \ifnum3=#1\relax%
      \obeybreaks{\hyperref[cha:var:ros]{Relations\space of\space \support{0}}}%
    \fi
  }
}
\ExplSyntaxOff

\newcommand{\supportI}[0]{\hyperref[idea:support]{\obeybreaks{\text{\support{2}\space I}}}}
\newcommand{\supportII}[0]{\hyperref[idea:support:possible]{\obeybreaks{\text{\support{2}\space II}}}}

\ExplSyntaxOn
\DeclareDocumentCommand{\wit}{ m }{%
  \tl_if_empty:nTF {#1}
  {
    \obeybreaks{\hyperref[def:witnessing]{witness}}%
  }
  {%
    \ifnum0=#1\relax%
      \obeybreaks{\hyperref[def:witnessing]{witness}}%
    \fi
    \ifnum1=#1\relax%
      \obeybreaks{\hyperref[def:witnessing]{witnesses}}%
    \fi
    \ifnum2=#1\relax%
      \obeybreaks{\hyperref[def:witnessing]{Witness}}%
    \fi
    \ifnum3=#1\relax%
      \obeybreaks{\hyperref[def:witnessing]{Witnesses}}%
    \fi
  }
}
\ExplSyntaxOff

% % % % % % Requisites etc % % %

\ExplSyntaxOn
\DeclareDocumentCommand{\requ}{ m }{%
  \tl_if_empty:nTF {#1}
  {
    \obeybreaks{\hyperref[def:requ]{requisite}}%
  }
  {%
    \ifnum0=#1\relax%
      \obeybreaks{\hyperref[def:requ]{requisite}}%
    \fi
    \ifnum1=#1\relax%
      \obeybreaks{\hyperref[def:requ]{requisites}}%
    \fi
    \ifnum2=#1\relax%
      \obeybreaks{\hyperref[def:requ]{Requisite}}%
    \fi
    \ifnum3=#1\relax%
      \obeybreaks{\hyperref[def:requ]{Requisites}}%
    \fi
  }
}
\ExplSyntaxOff

\ExplSyntaxOn
\DeclareDocumentCommand{\requP}{ m }{%
  \tl_if_empty:nTF {#1}
  {
    \obeybreaks{\hyperref[def:requP]{requisite\(^{\sharp}\)}}%
  }
  {%
    \ifnum0=#1\relax%
      \obeybreaks{\hyperref[def:requP]{requisite\(^{\sharp}\)}}%
    \fi
    \ifnum1=#1\relax%
      \obeybreaks{\hyperref[def:requP]{requisites\(^{\sharp}\)}}%
    \fi
    \ifnum2=#1\relax%
      \obeybreaks{\hyperref[def:requP]{Requisite\(^{\sharp}\)}}%
    \fi
    \ifnum3=#1\relax%
      \obeybreaks{\hyperref[def:requP]{Requisites\(^{\sharp}\)}}%
    \fi
  }
}
\ExplSyntaxOff

% % % % % % Epistemic possibility, etc % % %




% % %
\ExplSyntaxOn
\DeclareDocumentCommand{\illu}{ m }{
  \tl_if_empty:nTF {#1}
  {
    \obeybreaks{illustration}%
  }
  {%
    \ifnum0=#1\relax%
      \obeybreaks{illustration}%
    \fi
    \ifnum1=#1\relax%
      \obeybreaks{illustrations}%
    \fi
    \ifnum2=#1\relax%
      \obeybreaks{Illustration}%
    \fi
    \ifnum3=#1\relax%
      \obeybreaks{Illustrations}%
    \fi
  }
}
\ExplSyntaxOff

\ExplSyntaxOn
\DeclareDocumentCommand{\scen}{ m }{
  \tl_if_empty:nTF {#1}
  {
    \obeybreaks{scenario}%
  }
  {%
    \ifnum0=#1\relax%
      \obeybreaks{scenario}%
    \fi
    \ifnum1=#1\relax%
      \obeybreaks{scenarios}%
    \fi
    \ifnum2=#1\relax%
      \obeybreaks{Scenario}%
    \fi
    \ifnum3=#1\relax%
      \obeybreaks{Scenarios}%
    \fi
  }
}
\ExplSyntaxOff

\ExplSyntaxOn
\DeclareDocumentCommand{\cScen}{ m }{
  \tl_if_empty:nTF {#1}
  {
    \obeybreaks{\hyperref[scenType:Coll]{\textsf{C-scenario}}}%
  }
  {%
    \ifnum0=#1\relax%
      \obeybreaks{\hyperref[scenType:Coll]{\textsf{C-scenario}}}%
    \fi
    \ifnum1=#1\relax%f
      \obeybreaks{\hyperref[scenType:Coll]{\textsf{C-scenarios}}}%
    \fi
    \ifnum2=#1\relax%
      \obeybreaks{\hyperref[scenType:Coll]{\textsf{C-scenario}}}%
    \fi
    \ifnum3=#1\relax%
      \obeybreaks{\hyperref[scenType:Coll]{\textsf{C-scenarios}}}%
    \fi
  }
}
\ExplSyntaxOff

\ExplSyntaxOn
\DeclareDocumentCommand{\check}{ m }{
  \tl_if_empty:nTF {#1}
  {
    \obeybreaks{\textsf{check}}%
  }
  {%
    \ifnum0=#1\relax%
      \obeybreaks{\textsf{check}}%
    \fi
    \ifnum1=#1\relax%f
      \obeybreaks{\textsf{checks}}%
    \fi
    \ifnum2=#1\relax%
      \obeybreaks{\textsf{Check}}%
    \fi
    \ifnum3=#1\relax%
      \obeybreaks{\textsf{Checks}}%
    \fi
  }
}
\ExplSyntaxOff

% % % Other
% https://tex.stackexchange.com/questions/21644/how-do-you-superimpose-two-symbols-over-each-other
\makeatletter
\newcommand{\superimpose}[2]{%
  {\ooalign{$#1\@firstoftwo#2$\cr\hfil$#1\@secondoftwo#2$\hfil\cr}}
}
\makeatother

\newcommand{\veewedge}{\mathpalette\superimpose{{\vee}{\wedge}}}
\newcommand{\lessgreater}{\mathpalette\superimpose{{<}{>}}}
\newcommand{\strikeQ}{\mathpalette\superimpose{{\text{---}}{Q}}}
\newcommand{\RS}{\mathpalette\superimpose{{\text{R}}{\text{S}}}}
% % %

% % % Agents % % %

\ExplSyntaxOn
\DeclareDocumentCommand{\vAgent}{ m }{% No inertia
  \tl_if_empty:nTF {#1}
  {%
    \text{\emph{S}}
  }
  {%
    \text{\emph{#1}}
  }
}
\ExplSyntaxOff

\ExplSyntaxOn
\newcommand{\nagent}[1]{%
\tl_if_empty:nTF {#1}
  {
    {\color{red} <AGENT>}
  }
  {%
    \ifnum0=#1\relax
      {\color{red} ?AGENT?}%
    \fi
    \ifnum1=#1\relax
      Sam%
    \fi
    \ifnum2=#1\relax
      Taylor%
    \fi
    \ifnum3=#1\relax
      Cameron%
    \fi
    \ifnum4=#1\relax
      Kelsey%
    \fi
     \ifnum5=#1\relax
      Archer%
    \fi
    \ifnum6=#1\relax
      Jody%
    \fi
    \ifnum7=#1\relax
      Phoenix%
    \fi
    \ifnum8=#1\relax
      Frankie%
    \fi
    \ifnum9=#1\relax
      Roxanne%
    \fi
    \ifnum10=#1\relax
      Winter%
    \fi
    \ifnum11=#1\relax
      Robin%
    \fi
    \ifnum12=#1\relax
      Grayson%
    \fi
    \ifnum13=#1\relax
      Logan%
    \fi
    \ifnum14=#1\relax
      Leighton%
    \fi
    \ifnum15=#1\relax
      Dana%
    \fi
    \ifnum16=#1\relax
    Marin
    \fi
    \ifnum17=#1\relax
    Ryan
    \fi
    \ifnum18=#1\relax
    Cassidy
    \fi
  }
}
\ExplSyntaxOff

% % % Labels % % %

% % % Two symbols for illustrations of rectangle reasoning wrt. ur and nr % % %
% https://tex.stackexchange.com/questions/336070/symbol-creation-in-tikz
\newcommand{\tBox}{%
  \mathrel{%
    \tikz[line cap=round, line join=round]
    \draw
      (1.3ex, 0ex) -- (0ex, 0ex) -- (0ex, 1.3ex) -- (1.3ex, 1.3ex) -- cycle;%
  }%
}

\newcommand{\tBoxd}{%
  \mathrel{%
    \tikz[line cap=round, line join=round]
    \draw[dash pattern=on \pgflinewidth off 1.125pt]
      (1.3ex, 0ex) -- (0ex, 0ex) -- (0ex, 1.3ex) -- (1.3ex, 1.3ex) -- cycle
      %(1.3ex, 0.325ex) -- (0.325ex, 0.325ex) -- (0.325ex, 0.975ex)
      %-- (1.3ex, 0.975ex)
      %(-.13ex, 0ex) (1.3ex + .13ex, 0ex) % side bearings
    ;%
  }%
}


% % % https://tex.stackexchange.com/questions/200211/using-the-same-figure-twice-with-no-new-number
\newcommand{\repeatCaption}[2]{%
  \renewcommand{\thefigure}{\ref{#1}}%
  \captionsetup{list=no}%
  \caption{#2}%
  \addtocounter{figure}{-1}% So that next figure after the repeat gets the right number.
}

\newcommand{\repeatCaptionPrime}[2]{%
  \renewcommand{\thefigure}{\ref{#1}\('\)}%
  \captionsetup{list=no}%
  \caption{#2}%
  \addtocounter{figure}{-1}% So that next figure after the repeat gets the right number.
}

% % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % %
% % % Commands that I don't think are needed
\newcommand{\dd}[0]{\emph{de dicto}}
\newcommand{\dr}[0]{\emph{de re}}

% % % Transmission
\newcommand{\tri}[2]{\emph{#2}\(_{\text{\tiny\emph #1}}\)} % For listing items in a transmission template

% % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % %

\newcommand{\qzS}[0]{\text{\hyperref[question:zs]{\named{Z\text{-support}?}}}}

\newcommand{\nqzS}[0]{\text{\hyperref[question:zs:neg]{\named{not\space Z\text{-support}?}}}}

\newcommand{\qzSaV}[0]{\text{\(\mathbb{X}\)}}

\newcommand{\zS}[0]{\text{\hyperref[idea:zS]{\(Z\)-support}}}

\newcommand{\zSX}[0]{\text{\hyperref[idea:zSX]{\(Z^{\sharp}\)-support}}}

\newcommand{\zSXp}[0]{\text{{\(\hyperref[idea:zS]{Z}^{\hyperref[idea:zSX]{(\sharp)}}\)\hyperref[idea:zS]{-support}}}}

\newcommand{\izS}[0]{\text{\hyperref[idea:zS]{\named{\(Z\)-support}}}}

% % % zeta support % % %

\newcommand{\zetaSAb}[0]{\text{\(\zeta\)-support}}

\newcommand{\zetaS}[0]{\text{\hyperref[idea:zetaS]{\zetaSAb}}}

\newcommand{\izetaS}[0]{\text{\hyperref[idea:zetaS]{\named{\zetaSAb{}}}}}


\newcommand*{\rleadsto}{\reflectbox{\(\leadsto\)}}%

\ExplSyntaxOn
\DeclareDocumentCommand{\zgb}{ m }{
  \tl_if_empty:nTF {#1}
  {
    \obeybreaks{zingiberaceae}%
  }
  {%
    \ifnum0=#1\relax%
      \obeybreaks{zingiberaceae}%
    \fi
    \ifnum1=#1\relax%
      \obeybreaks{\color{red} !no-sense!}%
    \fi
    \ifnum2=#1\relax%
      \obeybreaks{Zingiberaceae}%
    \fi
    \ifnum3=#1\relax%
      \obeybreaks{\color{red} !no-sense!}%
    \fi
  }
}
\ExplSyntaxOff

\ExplSyntaxOn
\DeclareDocumentCommand{\fc}{ m }{%
  \tl_if_empty:nTF {#1}
  {
    \hyperref[def:fc]{\obeybreaks{foregone-conclusion}}%
  }
  {%
    \ifnum0=#1\relax%
      \hyperref[def:fc]{\obeybreaks{foregone-conclusion}}%
    \fi
    \ifnum1=#1\relax%
      \hyperref[def:fc]{\obeybreaks{foregone-conclusions}}%
    \fi
    \ifnum2=#1\relax%
      \hyperref[def:fc]{\obeybreaks{Foregone-conclusion}}%
    \fi
    \ifnum3=#1\relax%
      \hyperref[def:fc]{\obeybreaks{Foregone-conclusions}}%
    \fi
  }
}
\ExplSyntaxOff

\ExplSyntaxOn
\DeclareDocumentCommand{\zSN}{ m }{
  \tl_if_empty:nTF {#1}
  {
    \obeybreaks{\zgb{0}-support}%
  }
  {%
    \ifnum0=#1\relax%
      \obeybreaks{\zgb{0}-support}%
    \fi
    \ifnum1=#1\relax%
      \obeybreaks{\color{red} !no-sense!}%
    \fi
    \ifnum2=#1\relax%
      \obeybreaks{\zgb{2}-support}%
    \fi
    \ifnum3=#1\relax%
      \obeybreaks{\color{red} !no-sense!}%
    \fi
  }
}
\ExplSyntaxOff

\newcommand{\squishA}[2]{\obeybreaks{
  #1 agent satisfying \(\chi\) is sufficient to resolve whether #2 agent has \zetaS{} for \(\pv{\phi}{v}\) when concluding \(\pv{\phi}{v}\) from \(\Phi\)}%
}

\newcommand{\squishB}[1]{\obeybreaks{%
  \(\chi\) entails #1 agent has satisfied \izetaS{}}%
}

\newcommand{\howBasic}[0]{\obeybreaks{%
  \emph{How}, in part, did the agent conclude \(\phi\) has value \(v\)?%
}}

\newcommand{\whyBasic}[0]{\obeybreaks{%
  \emph{Why}, in part, did the agent conclude \(\phi\) has value \(v\)?%
}}

% Some customizable styles
    \tikzset {
        highlight/.style = {yellow, opacity=0.3},
        digit/.style = {minimum height = 5mm, minimum width=5mm, anchor=center },
        circle/.style = {draw=green!80!black, dotted, very thick},
        cross/.style = {red, opacity=.5, shorten >=1mm, shorten <=1mm, very thick, line cap=round},
        hint/.style={blue, font=\sf, minimum width=3mm, minimum height=3mm}
    }

% Original code-----------------------------------------------------------
% Modified the \node to give a unique name to each one, which is the
% row number, a dash and the column number. E.g: 1-1, 4-5, etc.
    \newcounter{row}
    \newcounter{col}

    \newcommand\setrow[9]{
        \setcounter{col}{1}
        \foreach \n in {#1, #2, #3, #4, #5, #6, #7, #8, #9} {
            \edef\x{\value{col} - 0.5}
            \edef\y{9.5 - \value{row}}
            \node[digit,name={\arabic{row}-\arabic{col}}] at (\x, \y) {\n};
            \stepcounter{col}
        }
        \stepcounter{row}
    }

% New code -------------------------------------------------------------
    \def\highlightcell#1#2{
        \fill[highlight] (#1-#2.north west) rectangle (#1-#2.south east);
    }

    \def\circlecell#1#2{
        \draw[circle] (#1-#2) circle(4mm);
    }

    \def\crosscell#1#2{
        \draw[cross] (#1-#2.north west) -- (#1-#2.south east);
        \draw[cross] (#1-#2.north east) -- (#1-#2.south west);
    }

    \def\highlightrow#1{
       \fill[highlight] (#1-1.north west) rectangle (#1-9.south east);
    }

    \def\highlighcolumn#1{
        \fill[highlight] (1-#1.north west) rectangle (9-#1.south east);
    }

    \def\hintcell#1#2#3{
        \node at (#1-#2) {\hintbox{#3}};
    }

    \def\highlightrectangle#1#2#3#4{
        \begin{pgfonlayer}{background}
        \fill[highlight] (#1-#2.north west) rectangle (#3-#4.south east);
        \end{pgfonlayer}
    }

% UGLY code. Do not read :-)
\def\hintbox#1{
    \resizebox{4.5mm}{4.5mm}{%
        \tikz[scale=0.3]{%
            \def\auxc{0}
            \foreach \m in {1,...,9} {
                \pgfmathparse{mod(\auxc,3)}
                \xdef\x{\pgfmathresult}
                \pgfmathparse{-floor(\auxc/3)}
                \xdef\y{\pgfmathresult}
                \xdef\hintprinted{0}
                \foreach \n in {#1} {
                    \ifnum\n=\m
                        \node[hint] at (\x,\y) {\n};
                        \xdef\hintprinted{1}
                    \fi
                }
                \ifnum\hintprinted=0
                      \node[hint, opacity=0.1] at (\x,\y) {\m};
                \fi
                \pgfmathparse{\auxc+1}
                \xdef\auxc{\pgfmathresult}
            }
        }%
    }
}

\newcommand{\sudokuGrid}[0]{
  \begin{tikzpicture}[scale=.5]
          \begin{scope}
            \draw (0, 0) grid (9, 9);
            \draw[very thick, scale=3] (0, 0) grid (3, 3);
            \setcounter{row}{1}
            % Single entries
            \setrow { }{ }{ }  {2}{ }{ }  { }{ }{ }
            \setrow { }{6}{5}  { }{ }{ }  {9}{ }{ }
            \setrow { }{7}{ }  { }{ }{6}  { }{4}{ }
            \setrow { }{ }{ }  { }{ }{1}  { }{ }{5}
            \setrow {7}{1}{ }  { }{ }{ }  { }{ }{9}
            \setrow { }{ }{9}  { }{2}{ }  { }{1}{ }
            \setrow { }{ }{1}  { }{ }{ }  {7}{ }{ }
            \setrow { }{8}{7}  {3}{ }{4}  { }{2}{ }
            \setrow { }{ }{ }  { }{6}{ }  { }{9}{4}
        \end{scope}
      \end{tikzpicture}
}

\newcommand{\sudokuGridHints}[0]{
\begin{tikzpicture}[scale=.5]
        \begin{scope}
          \draw (0, 0) grid (9, 9);
          \draw[very thick, scale=3] (0, 0) grid (3, 3);
          \setcounter{row}{1}
          % Single entries
          \setrow { }{ }{ }  {2}{ }{ }  { }{ }{ }
          \setrow { }{6}{5}  { }{ }{ }  {9}{ }{ }
          \setrow { }{7}{ }  { }{ }{6}  { }{4}{ }
          \setrow { }{ }{ }  { }{ }{1}  { }{ }{5}
          \setrow {7}{1}{ }  { }{ }{ }  { }{ }{9}
          \setrow { }{ }{9}  { }{2}{ }  { }{1}{ }
          \setrow { }{ }{1}  { }{ }{ }  {7}{ }{ }
          \setrow { }{8}{7}  {3}{ }{4}  { }{2}{ }
          \setrow { }{ }{ }  { }{6}{ }  { }{9}{4}
          % Hints
          % * Row 1
          \hintcell{1}{1}{1,3,4,8,9}
          \hintcell{1}{2}{3,4,9}
          \hintcell{1}{3}{3,4,8}
          \hintcell{1}{5}{1,3,4,5,7,8,9}
          \hintcell{1}{6}{3,5,7,8,9}
          \hintcell{1}{7}{1,3,5,6,8}
          \hintcell{1}{8}{3,5,6,7,8}
          \hintcell{1}{9}{1,3,6,7,8}
          % * Row 2
          \hintcell{2}{1}{1,2,3,4,8}
          \hintcell{2}{4}{1,4,7,8}
          \hintcell{2}{5}{1,3,4,7,8}
          \hintcell{2}{6}{3,7,8}
          \hintcell{2}{8}{3,7,8}
          \hintcell{2}{9}{1,2,3,7,8}
          % * Row 3
          \hintcell{3}{1}{1,2,3,8,9}
          \hintcell{3}{3}{2,3,8}
          \hintcell{3}{4}{1,5,8,9}
          \hintcell{3}{5}{1,3,5,8,9}
          \hintcell{3}{7}{1,3,5,8}
          \hintcell{3}{9}{1,2,3,8}
          % * Row 4
          \hintcell{4}{1}{2,3,4,8}
          \hintcell{4}{2}{2,3,4}
          \hintcell{4}{3}{2,3,4,6,8}
          \hintcell{4}{4}{4,6,7,8,9}
          \hintcell{4}{5}{3,4,7,8,9}
          \hintcell{4}{7}{2,3,4,6,8}
          \hintcell{4}{8}{3,6,7,8}
          % * Row 5
          \hintcell{5}{3}{2,3,4,6,8}
          \hintcell{5}{4}{4,5,6,8}
          \hintcell{5}{5}{3,4,5,8}
          \hintcell{5}{6}{3,5,8}
          \hintcell{5}{7}{2,3,4,6,8}
          \hintcell{5}{8}{3,6,8}
          % * Row 6
          \hintcell{6}{1}{3,4,5,8}
          \hintcell{6}{2}{3,4,5}
          \hintcell{6}{4}{4,6,7,8}
          \hintcell{6}{6}{3,7,8}
          \hintcell{6}{7}{3,4,6,8}
          \hintcell{6}{9}{3,6,7,8}
          % * Row 7
          \hintcell{7}{1}{2,3,4,6,9}
          \hintcell{7}{2}{2,3,4,9}
          \hintcell{7}{4}{5,8,9}
          \hintcell{7}{5}{5,8,9}
          \hintcell{7}{6}{2,5,8,9}
          \hintcell{7}{8}{3,5,6,8}
          \hintcell{7}{9}{3,6,8}
          % * Row 8
          \hintcell{8}{1}{6,9}
          \hintcell{8}{5}{1,5,9}
          \hintcell{8}{7}{1,5,6}
          \hintcell{8}{9}{1,6}
          % * Row 9
          \hintcell{9}{1}{2,3,5}
          \hintcell{9}{2}{2,3,5}
          \hintcell{9}{3}{2,3}
          \hintcell{9}{4}{1,7,8}
          \hintcell{9}{6}{7,8}
          \hintcell{9}{7}{1,8}
        \end{scope}
      \end{tikzpicture}
}

\makeatletter
\newenvironment{shiftpar}[1][1.5em]
  {\list{}{%\listparindent #1%
    %\itemindent\parindent
    \leftmargin#1
%    \rightmargin\leftmargin
    \parsep\z@\@plus\p@}%
    \item\relax}
  {\endlist}
\makeatother

% Ability.

\ExplSyntaxOn
\DeclareDocumentCommand{\abgen}{ m }{%
  \tl_if_empty:nTF {#1}
  {
    \obeybreaks{broad}%
  }
  {%
    \ifnum0=#1\relax%
      \obeybreaks{broad}%
    \fi
    \ifnum1=#1\relax%
      \obeybreaks{\color{red} \#\$\%\&}%
    \fi
    \ifnum2=#1\relax%
      \obeybreaks{broad}%
    \fi
    \ifnum3=#1\relax%
      \obeybreaks{\color{red} \#\$\%\&}%
    \fi
  }
}
\ExplSyntaxOff

\ExplSyntaxOn
\DeclareDocumentCommand{\abspec}{ m }{%
  \tl_if_empty:nTF {#1}
  {
    \obeybreaks{narrow}%
  }
  {%
    \ifnum0=#1\relax%
      \obeybreaks{narrow}%
    \fi
    \ifnum1=#1\relax%
      \obeybreaks{\color{red} \#\$\%\&}%
    \fi
    \ifnum2=#1\relax%
      \obeybreaks{narrow}%
    \fi
    \ifnum3=#1\relax%
      \obeybreaks{\color{red} \#\$\%\&}%
    \fi
  }
}
\ExplSyntaxOff

% % % Boylan

\newcommand{\BoyPS}[0]{\hyperref[Boylan:Past-Success]{\obeybreaks{Past Success}}} %
\newcommand{\BoyVS}[0]{\hyperref[Boylan:Or-Success]{\obeybreaks{\(\lor\)- Success}}} %
\newcommand{\BoyCEW}[0]{\hyperref[wrt]{\obeybreaks{the\space revised\space template}}} %
\newcommand{\BoyPSC}[0]{\hyperref[Boylan:Past-Success:C]{\obeybreaks{Success Past}}} %
\newcommand{\BoyPSCQC}[0]{\hyperref[Boylan:Past-Success:CQC]{\obeybreaks{Past Unsuccess}}} %
\newcommand{\BoyPSIFF}[0]{\hyperref[Boylan:Past-Success:IFF]{\obeybreaks{Past Success Past}}} %

\newcommand{\AbControl}[0]{\hyperref[ability:control]{\obeybreaks{\text{\textbf{Control}}}}}

% Landman
\newcommand{\lRweSym}[0]{\hyperref[def:LandRwe]{\ensuremath{R}}}
\newcommand{\lRwe}[2]{\hyperref[def:LandRwe]{\ensuremath{R(#2,#1)}}}
\newcommand{\mRwe}[2]{\hyperref[def:myRwe]{\ensuremath{\mathcal{R}(#2,#1)}}}
\newcommand{\mRweSym}[0]{\hyperref[def:myRwe]{\ensuremath{\mathcal{R}}}}

\ExplSyntaxOn
\DeclareDocumentCommand{\drift}{ m }{
  \tl_if_empty:nTF {#1}
  {
    \obeybreaks{drift}%
  }
  {%
    \ifnum0=#1\relax%
      \obeybreaks{drift}%
    \fi
    \ifnum1=#1\relax%
      \obeybreaks{drifts}%
    \fi
    \ifnum2=#1\relax%
      \obeybreaks{Drift}%
    \fi
    \ifnum3=#1\relax%
      \obeybreaks{Drifts}%
    \fi
  }
}
\ExplSyntaxOff

\ExplSyntaxOn
\DeclareDocumentCommand{\drifting}{ m }{
  \tl_if_empty:nTF {#1}
  {
    \obeybreaks{drifting}%
  }
  {%
    \ifnum0=#1\relax%
      \obeybreaks{drifting}%
    \fi
    \ifnum1=#1\relax%
      \obeybreaks{\color{red} NO-SENSE}%
    \fi
    \ifnum2=#1\relax%
      \obeybreaks{Drifting}%
    \fi
    \ifnum3=#1\relax%
      \obeybreaks{\color{red} NO-SENSE}%
    \fi
  }
}
\ExplSyntaxOff

\ExplSyntaxOn
\DeclareDocumentCommand{\driftW}{ m }{
  \tl_if_empty:nTF {#1}
  {
    \obeybreaks{\drift{0}-world}%
  }
  {%
    \ifnum0=#1\relax%
      \obeybreaks{\drift{0}-world}%
    \fi
    \ifnum1=#1\relax%
      \obeybreaks{\drift{0}-worlds}%
    \fi
    \ifnum2=#1\relax%
      \obeybreaks{\drift{2}-world}%
    \fi
    \ifnum3=#1\relax%
      \obeybreaks{\drift{2}-worlds}%
    \fi
  }
}
\ExplSyntaxOff

\ExplSyntaxOn
\DeclareDocumentCommand{\closeW}{ m }{
  \tl_if_empty:nTF {#1}
  {
    \obeybreaks{close-world}%
  }
  {%
    \ifnum0=#1\relax%
      \obeybreaks{close-world}%
    \fi
    \ifnum1=#1\relax%
      \obeybreaks{close-worlds}%
    \fi
    \ifnum2=#1\relax%
      \obeybreaks{Close-world}%
    \fi
    \ifnum3=#1\relax%
      \obeybreaks{Close-worlds}%
    \fi
  }
}
\ExplSyntaxOff

\ExplSyntaxOn
\DeclareDocumentCommand{\assuPP}{ m }{
  \tl_if_empty:nTF {#1}
  {
    \obeybreaks{\hyperref[assu:PP]{\obeybreaks{\text{progressive\space perfection}}}}%
  }
  {%
    \ifnum0=#1\relax%
      \obeybreaks{\hyperref[assu:PP]{\obeybreaks{\text{progressive\space perfection}}}}%
    \fi
    \ifnum1=#1\relax%
      \obeybreaks{\hyperref[assu:PP]{\color{red} NO-SENSE}}%
    \fi
    \ifnum2=#1\relax%
      \obeybreaks{\hyperref[assu:PP]{\obeybreaks{\text{Progressive\space perfection}}}}%
    \fi
    \ifnum3=#1\relax%
      \obeybreaks{\hyperref[assu:PP]{\color{red} NO-SENSE}}%
    \fi
  }
}
\ExplSyntaxOff

\ExplSyntaxOn
\DeclareDocumentCommand{\drAdj}{ m }{
  \tl_if_empty:nTF {#1}
  {
    \obeybreaks{\obeybreaks{appropriate}}%
  }
  {%
    \ifnum0=#1\relax%
      \obeybreaks{\obeybreaks{appropriate}}%
    \fi
    \ifnum1=#1\relax%
      \obeybreaks{\color{red} NO-SENSE}%
    \fi
    \ifnum2=#1\relax%
      \obeybreaks{\obeybreaks{Appropriate}}%
    \fi
    \ifnum3=#1\relax%
      \obeybreaks{\color{red} NO-SENSE}%
    \fi
  }
}
\ExplSyntaxOff

\ExplSyntaxOn
\DeclareDocumentCommand{\ndrAdj}{ m }{
  \tl_if_empty:nTF {#1}
  {
    \obeybreaks{\obeybreaks{inappropriate}}%
  }
  {%
    \ifnum0=#1\relax%
      \obeybreaks{\obeybreaks{inappropriate}}%
    \fi
    \ifnum1=#1\relax%
      \obeybreaks{\color{red} NO-SENSE}%
    \fi
    \ifnum2=#1\relax%
      \obeybreaks{\obeybreaks{Inappropriate}}%
    \fi
    \ifnum3=#1\relax%
      \obeybreaks{\color{red} NO-SENSE}%
    \fi
  }
}
\ExplSyntaxOff

\newcommand{\AlgAC}[0]{\hyperref[PrAl:g-a-c]{\obeybreaks{\text{\textsc{Stretch}}}}}
\newcommand{\AlgPC}[0]{\hyperref[PrAl:g-p-c]{\obeybreaks{\text{\textsc{Get-\(R\)-Continuations}}}}}
\newcommand{\AlgGetCs}[0]{\hyperref[PrAl:g-c]{\obeybreaks{\text{\textsc{Get-Continuations}}}}}
\newcommand{\AlgGetStops}[0]{\hyperref[PrAl:g-s]{\obeybreaks{\text{\textsc{Get-Stops}}}}}
\newcommand{\AlgGetPStops}[0]{\hyperref[PrAl:g-s]{\obeybreaks{\text{\textsc{Get-\(R\)-Stops}}}}}
\newcommand{\AlgFindBranches}[0]{\hyperref[PrAl:find-branches]{\obeybreaks{\text{\textsc{Wiggle}}}}}
\newcommand{\AlgDevelopTree}[0]{\hyperref[PrAl:dev-tree]{\obeybreaks{\text{\textsc{Complete-Tree}}}}}

\newcommand{\SetAC}[0]{\obeybreaks{\text{@-Continuations}}}
\newcommand{\SetPC}[0]{\obeybreaks{\text{\(R\)-Continuations}}}

% % % % % % Potntial, etc % % %

\ExplSyntaxOn
\DeclareDocumentCommand{\potential}{ m }{
  \tl_if_empty:nTF {#1}
  {
    \obeybreaks{potential}%
  }
  {%
    \ifnum0=#1\relax%
      \obeybreaks{potential}%
    \fi
    \ifnum1=#1\relax%
      \obeybreaks{\color{red} NO-SENSE}%
    \fi
    \ifnum2=#1\relax%
      \obeybreaks{Potential}%
    \fi
    \ifnum3=#1\relax%
      \obeybreaks{\color{red} NO-SENSE}%
    \fi
  }
}
\ExplSyntaxOff

\ExplSyntaxOn
\DeclareDocumentCommand{\pevent}{ m }{%
  \tl_if_empty:nTF {#1}
  {
    \obeybreaks{\hyperref[def:potenital-event]{\potential{0}\space event}}%
  }
  {%
    \ifnum0=#1\relax%
      \obeybreaks{\hyperref[def:potenital-event]{\potential{0}\space event}}%
    \fi
    \ifnum1=#1\relax%
      \obeybreaks{\hyperref[def:potenital-event]{\potential{0}\space events}}%
    \fi
    \ifnum2=#1\relax%
      \obeybreaks{\hyperref[def:potenital-event]{\potential{2}\space event}}%
    \fi
    \ifnum3=#1\relax%
      \obeybreaks{\hyperref[def:potenital-event]{\potential{2}\space events}}%
    \fi
  }
}
\ExplSyntaxOff


\ExplSyntaxOn
\DeclareDocumentCommand{\qWVitc}{ m }{
  \tl_if_empty:nTF {#1}
  {
    \obeybreaks{\emph{if-then}\space conditional}%
  }
  {%
    \ifnum0=#1\relax%
      \obeybreaks{\emph{if-then}\space conditional}%
    \fi
    \ifnum1=#1\relax%
      \obeybreaks{\color{red} !no-sense!}%
    \fi
    \ifnum2=#1\relax%
      \obeybreaks{\emph{If-then}\space conditional}%
    \fi
    \ifnum3=#1\relax%
      \obeybreaks{\color{red} !no-sense!}%
    \fi
  }
}
\ExplSyntaxOff



\ExplSyntaxOn
\DeclareDocumentCommand{\curb}{ m }{
  \tl_if_empty:nTF {#1}
  {
    \obeybreaks{\obeybreaks{\hyperref[def:curb]{\obeybreaks{curb}}}}%
  }
  {%
    \ifnum0=#1\relax%
      \obeybreaks{\obeybreaks{\hyperref[def:curb]{\obeybreaks{curb}}}}%
    \fi
    \ifnum1=#1\relax%
      \obeybreaks{\obeybreaks{\hyperref[def:curb]{\obeybreaks{curbs}}}}%
    \fi
    \ifnum2=#1\relax%
      \obeybreaks{\obeybreaks{\hyperref[def:curb]{\obeybreaks{Curb}}}}%
    \fi
    \ifnum3=#1\relax%
      \obeybreaks{\obeybreaks{\hyperref[def:curb]{\obeybreaks{Curbs}}}}%
    \fi
  }
}
\ExplSyntaxOff

\ExplSyntaxOn
\DeclareDocumentCommand{\bCurb}{ m }{
  \tl_if_empty:nTF {#1}
  {
    \obeybreaks{\obeybreaks{\hyperref[def:bCurb]{\obeybreaks{basic\space curb}}}}%
  }
  {%
    \ifnum0=#1\relax%
      \obeybreaks{\obeybreaks{\hyperref[def:bCurb]{\obeybreaks{basic\space curb}}}}%
    \fi
    \ifnum1=#1\relax%
      \obeybreaks{\obeybreaks{\hyperref[def:bCurb]{\obeybreaks{basic\space curbs}}}}%
    \fi
    \ifnum2=#1\relax%
      \obeybreaks{\obeybreaks{\hyperref[def:bCurb]{\obeybreaks{Basic\space curb}}}}%
    \fi
    \ifnum3=#1\relax%
      \obeybreaks{\obeybreaks{\hyperref[def:bCurb]{\obeybreaks{Basic\space curbs}}}}%
    \fi
  }
}
\ExplSyntaxOff

\ExplSyntaxOn
\DeclareDocumentCommand{\feedback}{ m }{%
  \tl_if_empty:nTF {#1}
  {
    \obeybreaks{\obeybreaks{feedback}}%
  }
  {%
    \ifnum0=#1\relax%
      \obeybreaks{\obeybreaks{feedback}}%
    \fi
    \ifnum1=#1\relax%
      \obeybreaks{\obeybreaks{\#\$\%\&}}%
    \fi
    \ifnum2=#1\relax%
      \obeybreaks{\obeybreaks{Feedback}}%
    \fi
    \ifnum3=#1\relax%
      \obeybreaks{\obeybreaks{\#\$\%\&}}%
    \fi
  }
}
\ExplSyntaxOff